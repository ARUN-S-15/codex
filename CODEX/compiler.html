<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Code Compiler</title>
  <style>
    body {
    margin: 0;
    font-family: var(--font-family-base);
    display: flex;
    height: 100vh;
    background: black;
    color: white;
}


    .sidebar {
      width: 280px;
      background: #202123;
      color: #fff;
      display: flex;
      flex-direction: column;
      padding: 1rem 0;
      border-right: 1px solid #2a2b32;
    }

    .sidebar-section {
      padding: 0 1rem;
      margin-bottom: 1rem;
    }

    .sidebar button,
    .sidebar .menu-item {
      display: flex;
      align-items: center;
      gap: 0.6rem;
      width: 100%;
      background: transparent;
      border: none;
      color: #ececf1;
      padding: 0.7rem 1rem;
      border-radius: 6px;
      font-size: 1rem;
      text-align: left;
      cursor: pointer;
    }

    .sidebar button:hover,
    .sidebar .menu-item:hover {
      background: #2a2b32;
    }

    .sidebar h2 {
      font-size: 1.5rem;
      font-weight: 600;
      color: #9ca3af;
      margin: 1rem 1rem 0.5rem;
      text-transform: uppercase;
    }

    .search-box {
      background: #2a2b32;
      border: 1px solid #565869;
      border-radius: 6px;
      padding: 0.6rem;
      color: #fff;
      margin: 0 1rem 1rem;
      width: calc(100% - 2rem);
    }

    .history-list {
      flex: 1;
      overflow-y: auto;
      padding: 0 1rem;
    }

    .history-item {
      display: block;
      width: 100%;
      background: transparent;
      border: none;
      text-align: left;
      color: #ddd;
      font-size: 3rem;
      padding: 0.6rem 0.8rem;
      border-radius: 6px;
      cursor: pointer;
      margin-bottom: 0.3rem;
    }
    .history-item:hover {
      background: #2a2b32;
    }

    /* Main */
    .main {
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 1rem;
      overflow-y: auto;
    }

    .section {
      background: #40414f;
      padding: 1rem;
      border-radius: 10px;
      box-shadow: 0 3px 8px rgba(0,0,0,0.2);
      margin-bottom: 1rem;
      display: flex;
      flex-direction: column;
      flex: 1;
    }

    select {
      background: #2a2b32;
      color: #ececf1;
      border: 1px solid #565869;
      border-radius: 50px;
      padding: 0.7rem 1.5rem;
      font-size: 1rem;
    }

    textarea {
      width: 80%;
      flex: 1;
      padding: 1rem;
      font-family: monospace;
      font-size: 1.2rem;
      background: #1d1d1d;
      color: #ececf1;
      border: none;
      border-radius: 5px;
      resize: none;
      margin-top: 1rem;
      min-height: 400px;
    }
    .lineBox {
      background: #2a2b32;
      color: #9ca3af;
      padding: 1rem 0.5rem;
      text-align: right;
      font-family: monospace;
      font-size: 1rem;
      border-radius: 10px 0 0 10px;
      user-select: none;
      white-space: pre;
      line-height: 2;
    }
    .btn {
      padding: 0.6rem 1.2rem;
      border-radius: 6px;
      border: none;
      cursor: pointer;
      margin-right: 0.5rem;
    }
    .btn--primary {
      background: #10a37f;
      color: #fff;
    }
    .btn--outline {
      background: transparent;
      border: 1px solid #565869;
      color: #ececf1;
    }
    .btn--outline:hover {
      background: #2a2b32;
    }

    .hidden { display: none; }

    pre {
      background: #202123;
      padding: 1rem;
      border-radius: 6px;
      overflow-x: auto;
      white-space: pre-wrap;
      word-wrap: break-word;
      margin-top: 1rem;
      flex: 1;
    }
    #explainBtn { 
      font-size: 1.1rem; 
      padding: 0.8rem 1.5rem;
     } 
    #suggestBtn {
       font-size: 1.1rem;
        padding: 0.8rem 1.5rem;
       } 
    #runBtn {
       font-size: 1.1rem; 
       padding: 0.8rem 1.5rem; 
      }
    #copyCodeBtn {
      background-color: transparent;
      border: 1px solid #565869;
      color: #ececf1;
      font-size: 1.1rem;
      padding: 0.8rem 1.5rem;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.2s;
    }
    #copyCodeBtn:hover {
  background: #2a2b32;
}
  </style>
</head>
<body>
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar-section">
      <button id="newCodeBtn">üìù New Code</button>
      <input type="text" id="searchBox" class="search-box" placeholder="üîç Search codes...">
    </div>


    <div class="sidebar-section">
      <h2>Library</h2>
      <button class="menu-item">üî• Sorting Template</button>
      <button class="menu-item">‚ö° DSA Snippets</button>
      <button class="menu-item">üìå HTML Starter</button>
    </div>

    <div class="sidebar-section">
      <h2>Projects</h2>
      <button class="menu-item">üìÇ My Compiler Project</button>
    </div>

    <h2>History</h2>
    <div class="history-list" id="historyList">
      <p style="font-size:0.85rem; color:#777;">No history yet...</p>
    </div>
  </aside>

  <!-- Main -->
  <main class="main">
    <div class="section">
      <div style="margin-bottom:1rem; display:flex; justify-content:space-between; align-items:center;">
        <h2>Code Editor</h2>
        <select id="languageSelect">
          <option value="javascript">JavaScript</option>
          <option value="python">Python</option>
          <option value="cpp">C++</option>
          <option value="java">Java</option>
          <option value="html">HTML/CSS</option>
        </select>
      </div>


  <textarea id="codeEditor" placeholder="Write your code here..."></textarea>



      <div style="margin-top:1rem;">
          <button id="copyCodeBtn" class="copy-btn">Copy</button>
        <button id="runBtn" class="btn btn--primary">Run Code</button>
        <button id="explainBtn" class="btn btn--outline">Explain</button>
        <button id="suggestBtn" class="btn btn--outline">Suggestions</button>
      </div>
    </div>

    <div class="section hidden" id="resultSection">
      <h2 id="resultTitle">Result</h2>
      <pre id="resultBox">Your output will appear here...</pre>
    </div>
  </main>

  <script>
    const historyList = document.getElementById("historyList");
    const codeEditor = document.getElementById("codeEditor");
    const resultSection = document.getElementById("resultSection");
    const resultTitle = document.getElementById("resultTitle");
    const resultBox = document.getElementById("resultBox");
    const languageSelect = document.getElementById("languageSelect");
    const searchBox = document.getElementById("searchBox");

    function showResult(title, text) {
      resultTitle.textContent = title;
      resultBox.textContent = text;
      resultSection.classList.remove("hidden");
    }

    function addToHistory(code, lang) {
      if (!code.trim()) return;
      const item = document.createElement("button");
      item.classList.add("history-item");
      item.textContent = `[${lang}] ${code.substring(0, 25)}...`;
      item.onclick = () => {
        codeEditor.value = code;
        languageSelect.value = lang;
      };
      if (historyList.querySelector("p")) historyList.innerHTML = "";
      historyList.prepend(item);
    }

    document.getElementById("runBtn").addEventListener("click", () => {
      const code = codeEditor.value;
      const lang = languageSelect.value;
      showResult("Output (" + lang + ")", "‚úÖ Code executed successfully\n\n" + (code || "No code written"));
      addToHistory(code, lang);
    });

    document.getElementById("explainBtn").addEventListener("click", () => {
      const lang = languageSelect.value;
      showResult("Explanation (" + lang + ")", "üìñ AI explanation of your " + lang + " code will appear here...");
    });

    document.getElementById("suggestBtn").addEventListener("click", () => {
      const lang = languageSelect.value;
      showResult("Suggestions (" + lang + ")", "üí° AI suggestions to improve your " + lang + " code will appear here...");
    });

    document.getElementById("newCodeBtn").addEventListener("click", () => {
      const code = codeEditor.value;
      const lang = languageSelect.value;
      addToHistory(code, lang);
      codeEditor.value = "";
      resultSection.classList.add("hidden");
    });
document.getElementById("copyCodeBtn").addEventListener("click", () => {
  const code = document.getElementById("codeEditor").value;
  if (!code.trim()) return;

  navigator.clipboard.writeText(code).then(() => {
    const btn = document.getElementById("copyCodeBtn");
    btn.textContent = "Copied‚úÖ";
    setTimeout(() => (btn.textContent = "Copy"), 1500);
  });
});

function updateLineNumbers(textarea, lineBox) {
      const lines = textarea.value.split("\n").length;
      lineBox.textContent = Array.from({ length: lines }, (_, i) => i + 1).join("\n");
    }
    textarea.addEventListener("input", () => updateLineNumbers(textarea, lineNumbers));
    textarea.addEventListener("scroll", () => (lineNumbers.scrollTop = textarea.scrollTop));
    optimizedCodeBox.addEventListener("scroll", () => (lineNumbersOut.scrollTop = optimizedCodeBox.scrollTop));

    updateLineNumbers(textarea, lineNumbers);
    
    searchBox.addEventListener("input", () => {
      const searchText = searchBox.value.toLowerCase();
      const items = historyList.querySelectorAll(".history-item");
      items.forEach(item => {
        item.style.display = item.textContent.toLowerCase().includes(searchText) ? "block" : "none";
      });
    });
  </script>
</body>
</html>
