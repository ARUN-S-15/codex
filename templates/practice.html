<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CODEX - Practice</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%);
      color: #ececf1;
      display: flex;
      flex-direction: column;
      height: 100vh;
    }

    /* NAVBAR */
    nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background: rgba(32, 33, 35, 0.95);
      border-bottom: 2px solid #10a37f;
    }

    nav .logo {
      font-size: 1.5rem;
      font-weight: 700;
      background: linear-gradient(135deg, #10a37f 0%, #6ad7ff 100%);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    nav ul {
      list-style: none;
      display: flex;
      gap: 1.2rem;
    }

    nav ul li a {
      text-decoration: none;
      color: #ececf1;
      font-weight: 500;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      transition: all 0.3s ease;
    }

    nav ul li a:hover, nav ul li a.active {
      background: rgba(16, 163, 127, 0.2);
      color: #10a37f;
    }

    /* MAIN LAYOUT */
    .main {
      display: flex;
      flex: 1;
      height: calc(100vh - 70px);
    }

    /* Problem Section */
    .problem {
      flex: 0.45;
      background: linear-gradient(135deg, rgba(32, 33, 35, 0.9) 0%, rgba(26, 26, 46, 0.9) 100%);
      padding: 1.5rem;
      border-right: 2px solid #10a37f;
      overflow-y: auto;
    }

    .problem h2 {
      margin-top: 0;
      background: linear-gradient(135deg, #10a37f 0%, #6ad7ff 100%);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      font-size: 1.8rem;
    }

    .difficulty-badge {
      display: inline-block;
      padding: 0.4rem 1rem;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 600;
      margin: 0.5rem 0 1rem 0;
    }

    .example, .constraints {
      margin-top: 1rem;
      background: rgba(32, 33, 35, 0.7);
      padding: 1.2rem;
      border-radius: 12px;
      border: 2px solid rgba(16, 163, 127, 0.3);
    }

    .example h3, .constraints h3 {
      color: #6ad7ff;
      margin-bottom: 0.8rem;
    }

    /* Editor Section */
    .editor {
      flex: 0.55;
      display: flex;
      flex-direction: column;
      padding: 1rem;
    }

    .editor-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.5rem;
    }

    select {
      background: #1e1e1e;
      color: #f1f1f1;
      border: 1px solid #333;
      padding: 0.4rem;
      border-radius: 6px;
    }

    .editor-box {
      position: relative;
      flex: 1;
      display: flex;
      margin-bottom: 0.7rem;
    }

   .line-numbers {
      background: #2a2b32;
      color: #9ca3af;
      padding: 1rem 0.5rem;
      text-align: right;
      font-family: monospace;
      font-size: 1rem;
      border-radius: 10px 0 0 10px;
      user-select: none;
      white-space: pre;
      line-height: 2;
    }
    textarea {
      flex: 1;
      background: #1d1d1d;
      color: #f1f1f1;
      border: none;
      border-radius: 0 8px 8px 0;
      padding: 1rem;
      font-family: monospace;
      font-size: 1rem;
      resize: none;
      outline: none;
      line-height: 1.6rem;
    }

    .actions {
      display: flex;
      gap: 1rem;
      margin-bottom: 0.7rem;
    }

    button {
      background: linear-gradient(135deg, #10a37f 0%, #0d8b6d 100%);
      color: #fff;
      border: none;
      padding: 0.7rem 1.5rem;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(16, 163, 127, 0.3);
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(16, 163, 127, 0.5);
    }

    .console {
      background: rgba(32, 33, 35, 0.8);
      padding: 1.2rem;
      border-radius: 12px;
      border: 2px solid rgba(106, 215, 255, 0.3);
      flex: 0.4;
      overflow-y: auto;
      font-family: monospace;
      color: #6ad7ff;
    }

    footer {
      text-align: center;
      padding: 0.7rem;
      border-top: 1px solid #333;
      font-size: 0.9rem;
      color: #aaa;
    }
  </style>
</head>
<body>
  <!-- NAVBAR -->
  <nav>
    <div class="logo">âš¡ CODEX âš¡</div>
    <ul>
      <li><a href="{{ url_for('main') }}">History</a></li>
      <li><a href="{{ url_for('compiler') }}">Compiler</a></li>
      <li><a href="#">About</a></li>
      <li><a href="#">Contact</a></li>
      <li><a href="{{ url_for('logout') }}">Logout</a></li>
    </ul>
  </nav>

  <!-- MAIN -->
  <div class="main">
    <!-- Problem -->
    <div class="problem">
      <h2>1. Reverse a String</h2>
      <p>Write a function that reverses a given string.</p>

      <div class="example">
        <h3>Example</h3>
        <pre>Input: "hello"
Output: "olleh"</pre>
      </div>

      <div class="constraints">
        <h3>Constraints</h3>
        <ul>
          <li>1 â‰¤ string length â‰¤ 1000</li>
          <li>String consists of printable ASCII characters.</li>
        </ul>
      </div>
    </div>

    <!-- Editor -->
    <div class="editor">
      <div class="editor-header">
        <label for="language">Language: </label>
        <select id="language">
          <option>C</option>
          <option>C++</option>
          <option>Python</option>
          <option>Java</option>
        </select>
      </div>

      <div class="editor-box">
        <div class="line-numbers" id="lineNumbers">1</div>
        <textarea id="codeInput" placeholder="Write your solution here..."></textarea>
      </div>

      <div class="actions">
        <button id="runBtn">â–¶ Run</button>
        <button id="submitBtn">âœ… Submit</button>
      </div>

      <div class="console" id="consoleOutput">Console output will appear here...</div>
    </div>
  </div>

  <footer>
    <p>Â© 2025 CODEX. All rights reserved.</p>
  </footer>

  <script>
    const problems = {
      1: { title: "Two Sum", desc: "Find two numbers in an array that add up to a target value.", difficulty: "easy", example: 'Input: [2, 7, 11, 15], target = 9\nOutput: [0, 1]', constraints: ['Array length â‰¥ 2', 'Only one valid answer exists'] },
      2: { title: "Reverse String", desc: "Reverse a given string using various methods.", difficulty: "easy", example: 'Input: "hello"\nOutput: "olleh"', constraints: ['1 â‰¤ string length â‰¤ 1000', 'Printable ASCII characters only'] },
      3: { title: "Fibonacci Sequence", desc: "Generate Fibonacci sequence up to n terms.", difficulty: "easy", example: 'Input: n = 5\nOutput: [0, 1, 1, 2, 3]', constraints: ['1 â‰¤ n â‰¤ 50'] },
      4: { title: "Palindrome Check", desc: "Check if a string reads the same backward as forward.", difficulty: "easy", example: 'Input: "racecar"\nOutput: true', constraints: ['Case insensitive', 'Ignore spaces and punctuation'] },
      5: { title: "Binary Search", desc: "Implement binary search algorithm on sorted array.", difficulty: "medium", example: 'Input: [1, 3, 5, 7, 9], target = 5\nOutput: 2', constraints: ['Array is sorted', 'Return -1 if not found'] },
      6: { title: "Merge Sorted Arrays", desc: "Merge two sorted arrays into one sorted array.", difficulty: "medium", example: 'Input: [1, 3, 5], [2, 4, 6]\nOutput: [1, 2, 3, 4, 5, 6]', constraints: ['Both arrays are sorted', 'Handle empty arrays'] },
      7: { title: "Valid Parentheses", desc: "Check if string has valid matching parentheses.", difficulty: "medium", example: 'Input: "({[]})"\nOutput: true', constraints: ['Only (), {}, [] characters', 'Must close in correct order'] },
      8: { title: "Longest Substring", desc: "Find longest substring without repeating characters.", difficulty: "medium", example: 'Input: "abcabcbb"\nOutput: 3 ("abc")', constraints: ['String length â‰¤ 10^5', 'ASCII characters'] },
      9: { title: "Matrix Rotation", desc: "Rotate a matrix 90 degrees clockwise.", difficulty: "hard", example: 'Input: [[1,2],[3,4]]\nOutput: [[3,1],[4,2]]', constraints: ['Square matrix', 'Modify in-place if possible'] },
      10: { title: "Graph Traversal", desc: "Implement BFS and DFS on a graph structure.", difficulty: "hard", example: 'Input: Graph with 5 nodes\nOutput: BFS and DFS traversal order', constraints: ['Handle disconnected components', 'No duplicate visits'] },
      11: { title: "Dynamic Programming", desc: "Solve classic DP problems (Knapsack, LCS).", difficulty: "hard", example: 'Input: Weights [1,2,3], Values [10,15,40], Capacity 6\nOutput: 55', constraints: ['Optimize time and space', 'Handle edge cases'] },
      12: { title: "Backtracking", desc: "Solve N-Queens problem using backtracking.", difficulty: "hard", example: 'Input: n = 4\nOutput: 2 solutions', constraints: ['No two queens attack each other', 'Return all solutions'] }
    };

    const urlParams = new URLSearchParams(window.location.search);
    const problemId = parseInt(urlParams.get('id')) || 1;
    const currentProblem = problems[problemId];

    document.querySelector('.problem h2').innerHTML = `${problemId}. ${currentProblem.title} ${getEmojiForDifficulty(currentProblem.difficulty)}`;
    
    const difficultyBadge = document.createElement('div');
    difficultyBadge.className = `difficulty-badge ${currentProblem.difficulty}`;
    difficultyBadge.textContent = `ðŸ”¥ ${currentProblem.difficulty.toUpperCase()}`;
    difficultyBadge.style.background = getDifficultyColor(currentProblem.difficulty);
    document.querySelector('.problem h2').after(difficultyBadge);

    document.querySelector('.problem > p').textContent = currentProblem.desc;
    document.querySelector('.example pre').textContent = currentProblem.example;
    document.querySelector('.constraints ul').innerHTML = currentProblem.constraints.map(c => `<li>${c}</li>`).join('');

    function getEmojiForDifficulty(diff) {
      return { easy: 'ðŸŸ¢', medium: 'ðŸŸ¡', hard: 'ðŸ”´' }[diff];
    }

    function getDifficultyColor(diff) {
      const colors = {
        easy: 'linear-gradient(135deg, #10a37f 0%, #0d8b6d 100%)',
        medium: 'linear-gradient(135deg, #ffc107 0%, #ff9800 100%)',
        hard: 'linear-gradient(135deg, #ff5459 0%, #ff1744 100%)'
      };
      return colors[diff];
    }

    const textarea = document.getElementById("codeInput");
    const lineNumbers = document.getElementById("lineNumbers");
    const consoleOutput = document.getElementById("consoleOutput");

    textarea.addEventListener("input", () => {
      const lines = textarea.value.split("\n").length;
      lineNumbers.textContent = Array.from({length: lines}, (_, i) => i + 1).join("\n");
    });

    document.getElementById("runBtn").addEventListener("click", () => {
      consoleOutput.innerHTML = "âš¡ <span style='color: #10a37f;'>Running your code...</span>\n<span style='color: #6ad7ff;'>Output:</span> Test passed!";
    });

    document.getElementById("submitBtn").addEventListener("click", () => {
      consoleOutput.innerHTML = "âœ… <span style='color: #10a37f;'>Submitted successfully!</span>\nðŸŽ‰ All test cases passed.";
    });
  </script>
</body>
</html>
